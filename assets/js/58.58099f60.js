(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{328:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h2",{attrs:{id:"render"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#render","aria-hidden":"true"}},[t._v("#")]),t._v(" render()")]),t._v(" "),a("ul",[a("li",[t._v("the only required method in a class component")]),t._v(" "),a("li",[t._v("it should be pure, meaning that it should not modify component state")]),t._v(" "),a("li",[t._v("returns\n"),a("ul",[a("li",[t._v("React elements")]),t._v(" "),a("li",[t._v("arrays and fragments, which return multiple elements without superfluous nodes "),a("code",[t._v("<React.Fragment>")])]),t._v(" "),a("li",[t._v("portals, allows you to insert DOM elements outside of the nearest parent node, that is, somewhere else"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createPortal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        domNode\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("string and numbers, that is, text nodes")]),t._v(" "),a("li",[t._v("Booleans or null, which render nothing")])])])]),t._v(" "),a("h2",{attrs:{id:"constructor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#constructor","aria-hidden":"true"}},[t._v("#")]),t._v(" constructor()")]),t._v(" "),a("ul",[a("li",[t._v("called before the component is mounted")]),t._v(" "),a("li",[t._v("call super(props) before anything else (otherwise "),a("code",[t._v("this.props")]),t._v(" will be undefined)")]),t._v(" "),a("li",[t._v("initializes state")]),t._v(" "),a("li",[t._v("bind methods")]),t._v(" "),a("li",[t._v("do not call "),a("code",[t._v("setState")]),t._v(" in the constructor (use this.state instead)")])]),t._v(" "),a("h2",{attrs:{id:"componentdidupdate-prevprops-prevstate-snapshot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentdidupdate-prevprops-prevstate-snapshot","aria-hidden":"true"}},[t._v("#")]),t._v(" componentDidUpdate(prevProps, prevState, snapshot)")]),t._v(" "),a("ul",[a("li",[t._v("updates whenever props change")]),t._v(" "),a("li",[t._v("not called in the initial render")]),t._v(" "),a("li",[t._v("operate on the DOM when the component has been updated")]),t._v(" "),a("li",[t._v("good place to do network requests (but first check current props with previous props first to make sure something changed)")]),t._v(" "),a("li",[t._v("dont copy props into state")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prevProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userID "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" prevProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetchData")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("userID"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("a 3rd parameter "),a("code",[t._v("snapShot")]),t._v(" is passed if "),a("code",[t._v("getSnapshotBeforeUpdate()")]),t._v(" is invoked")]),t._v(" "),a("li",[t._v("will not be invoked if "),a("code",[t._v("shouldComponentUpdate()")]),t._v(" returns false")])]),t._v(" "),a("h2",{attrs:{id:"componentwillunmount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentwillunmount","aria-hidden":"true"}},[t._v("#")]),t._v(" componentWillUnmount()")]),t._v(" "),a("ul",[a("li",[t._v("invoked right before a component is unmounted and destroyed")]),t._v(" "),a("li",[t._v("perform any cleanups here\n"),a("ul",[a("li",[t._v("invalidate timers")]),t._v(" "),a("li",[t._v("cancel network requests")]),t._v(" "),a("li",[t._v("cleanup subscriptions created in "),a("code",[t._v("componentDidMount()")])])])]),t._v(" "),a("li",[t._v("do not call "),a("code",[t._v("setState")]),t._v(" here")])]),t._v(" "),a("h2",{attrs:{id:"shouldcomponentupdate-nextprops-nextsate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#shouldcomponentupdate-nextprops-nextsate","aria-hidden":"true"}},[t._v("#")]),t._v(" shouldComponentUpdate(nextProps, nextSate)")]),t._v(" "),a("ul",[a("li",[t._v("invoked before new props or state are received")]),t._v(" "),a("li",[t._v("not called during initial render or when forceUpdate() is used")]),t._v(" "),a("li",[t._v("returns true by default")]),t._v(" "),a("li",[t._v("return false to skip a render\n"),a("ul",[a("li",[a("code",[t._v("UNSAFE_componentWillUpdate()")]),t._v(", "),a("code",[t._v("render()")]),t._v(", and "),a("code",[t._v("componentDidUpdate()")]),t._v(" will not be invoked")])])]),t._v(" "),a("li",[t._v("this is used mainly for performance optimization")]),t._v(" "),a("li",[t._v("consider using "),a("code",[t._v("PureComponent")]),t._v(" instead of manually invoking this function")])]),t._v(" "),a("h1",{attrs:{id:"rare"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rare","aria-hidden":"true"}},[t._v("#")]),t._v(" Rare")]),t._v(" "),a("h2",{attrs:{id:"static-getderivedstatefromprops-props-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-getderivedstatefromprops-props-state","aria-hidden":"true"}},[t._v("#")]),t._v(" static getDerivedStateFromProps(props, state)")]),t._v(" "),a("ul",[a("li",[t._v("invoked before calling the render method, both on the initial mount and subsequent updates")]),t._v(" "),a("li",[t._v("fires on every render")]),t._v(" "),a("li",[t._v("doesn't have access to the component instance (so you can't access "),a("code",[t._v("this")]),t._v(")")]),t._v(" "),a("li",[t._v("returns an object to update the state")]),t._v(" "),a("li",[t._v("useful for when state depends on changes in props over time, such as whether to animate an element in or out")])]),t._v(" "),a("h2",{attrs:{id:"getsnapshotbeforeupdate-prevprops-prevstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getsnapshotbeforeupdate-prevprops-prevstate","aria-hidden":"true"}},[t._v("#")]),t._v(" getSnapshotBeforeUpdate(prevProps, prevState)")]),t._v(" "),a("ul",[a("li",[t._v("invoked before any rendered output is committed to the DOM")]),t._v(" "),a("li",[t._v("lets you capture info from the DOM like the scroll position before it's changed")]),t._v(" "),a("li",[t._v("any return value is passed as a paramter to the "),a("code",[t._v("componentDidUpdate()")])])]),t._v(" "),a("h2",{attrs:{id:"componentdidcatch-error-info"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentdidcatch-error-info","aria-hidden":"true"}},[t._v("#")]),t._v(" componentDidCatch(error, info)")]),t._v(" "),a("ul",[a("li",[t._v("catch errors in their child component tree, log those errors, and display a fallback UI instead of the component that crashed")]),t._v(" "),a("li",[t._v("catch errors in components below them")]),t._v(" "),a("li",[t._v("display a fallback UI when calling "),a("code",[t._v("setState()")])])]),t._v(" "),a("h1",{attrs:{id:"legacy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#legacy","aria-hidden":"true"}},[t._v("#")]),t._v(" Legacy")]),t._v(" "),a("h2",{attrs:{id:"unsafe-componentwillmount"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unsafe-componentwillmount","aria-hidden":"true"}},[t._v("#")]),t._v(" UNSAFE_componentWillMount()")]),t._v(" "),a("ul",[a("li",[t._v("invoked just before mounting occurs")]),t._v(" "),a("li",[t._v("called before "),a("code",[t._v("render()")])]),t._v(" "),a("li",[t._v("calling "),a("code",[t._v("setState")]),t._v(" will not trigger a rerender")]),t._v(" "),a("li",[t._v("only lifecycle hook called on server rendering")]),t._v(" "),a("li",[t._v("can be replaced by "),a("code",[t._v("componentDidMount")])])]),t._v(" "),a("h2",{attrs:{id:"unsafe-componentwillreceiveprops-nextprops"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unsafe-componentwillreceiveprops-nextprops","aria-hidden":"true"}},[t._v("#")]),t._v(" UNSAFE_componentWillReceiveProps(nextProps)")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("invoked before a mounted component receives new props")])]),t._v(" "),a("li",[a("p",[t._v("not invoked by initial props during mounting")])]),t._v(" "),a("li",[a("p",[t._v("will not be triggered by "),a("code",[t._v("setState()")])])]),t._v(" "),a("li",[a("p",[t._v("use "),a("code",[t._v("componentDidUpdate")]),t._v(" to perform a side effect")])]),t._v(" "),a("li",[a("p",[t._v("use a memoization helper instead for rec-computing data when prop changes")])]),t._v(" "),a("li",[a("p",[t._v("use fully controlled or uncontrolled with a key components to reset state when prop changes")])]),t._v(" "),a("li",[a("p",[t._v("use "),a("code",[t._v("getDerivedStateFromProps")]),t._v(" as the replacement")])])]),t._v(" "),a("h2",{attrs:{id:"unsafe-componentwillupdate-nextprops-nextstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#unsafe-componentwillupdate-nextprops-nextstate","aria-hidden":"true"}},[t._v("#")]),t._v(" UNSAFE_componentWillUpdate(nextProps, nextState)")]),t._v(" "),a("h1",{attrs:{id:"methods"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[t._v("#")]),t._v(" Methods")]),t._v(" "),a("ul",[a("li",[t._v("invoked before new props and state are received")]),t._v(" "),a("li",[t._v("can be replaced by "),a("code",[t._v("componentDidUpdate()")])])]),t._v(" "),a("h2",{attrs:{id:"setstate-update-callback"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setstate-update-callback","aria-hidden":"true"}},[t._v("#")]),t._v(" setState(update[, callback])")]),t._v(" "),a("ul",[a("li",[t._v("doesn't immediately update state.. rather it may batch or defer updates until later for performance")]),t._v(" "),a("li",[t._v("read updated state in "),a("code",[t._v("componentDidUpdate()")]),t._v(" or in "),a("code",[t._v("setState()")]),t._v(" callback")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'oscar'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" counter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("step "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"forceupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#forceupdate","aria-hidden":"true"}},[t._v("#")]),t._v(" forceUpdate()")]),t._v(" "),a("ul",[a("li",[t._v("force a render without the need to update state or props")]),t._v(" "),a("li",[t._v("skips "),a("code",[t._v("shouldComponentUpdate()")])]),t._v(" "),a("li",[t._v("try to avoid if possible")])])])}],!1,null,null,null);e.default=n.exports}}]);